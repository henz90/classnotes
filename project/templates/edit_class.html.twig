{% extends "master.html.twig" %}

{% block title %}Edit {{a.classname}}{% endblock %}

{% block head %}
    <script src="https://cdn.tiny.cloud/1/no-api-key/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>
    <script>tinymce.init({selector:'textarea'});</script>
{% endblock %}

{% block content %}
    <div id="centerArticle">
        <h1 class="centered">{{a.classname}}</h1>
        <hr>
        <i>Posted by {{a.username}}</i>  
            <hr>
        {% if userSession['userid'] == a.userid %}
        <form method="post" id="classForm">
            <label for="body">Class Description:</label>
            </br>
            <textarea name="body" cols="60" rows="10">{{c.body}}</textarea>
            </br>
            <input type="submit" value="Save Edit">
        </form>
        {% endif %}
        <form method="get" action="/create_lesson/{{a.classid}}" >
            <input type="submit" value="Add Lesson">
        </form>
        <p><a href="/">Back to Home</a></p>
    </div>
    {% if commentsList %}
        <div class="comments">
        {% if userSession %}
            <div class="commentForm">
                <form method="post">
                Add your Comments:
                </br>
                <textarea name="body">{{c.body}}</textarea>
                </br>
                <input type="submit" value="Add Comment">
                </form>
            </div>
        {% endif %}
        {% for co in commentsList %}
            <div class="commentBody">
                <span class="commentAuthorInfo"><a href="/profile/{{co.userid}}">{{co.username}}</a> said on {{co.date}}</span>
                <hr>
                <div>{{co.body}}</div>
            </div>
            {% endfor %}
        {% else %}
            <span>Be the first to leave a comment!</span>
        </div>
    {% endif %}
{% endblock %}